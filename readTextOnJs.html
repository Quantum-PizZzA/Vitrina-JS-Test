<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Чтение файла</title>
  </head>
  <body>
    <input type="file" id="file" />
    <button>Чтение файла</button>

    <script>
      document
      .querySelector("button")
      .addEventListener("click", function () { 

        let file = document.getElementById("file").files[0];

        let reader = new FileReader();

        reader.readAsText(file);

        reader.onload = function () {

          console.log(reader.result);
          
          let MASS = reader.result;

          const matrix = MASS.split("\n")

          var sum = 0;

          for (let i = 0; i < matrix.length.toString() && matrix[i]!="NaN" && matrix[i]!="\r" ; i++) {
          sum = sum + Number(matrix[i])
          // console.log(i," sum = ",sum, "matrix[i] = ",matrix[i]); 
          }
          console.log("sum = ", sum); 

          function hashCode(str) {
          return str.split('').reduce((prevHash, currVal) =>
          (((prevHash << 5) - prevHash) + currVal.charCodeAt(0))|0, 0);
          }

          // Test
          console.log("hashCode(\"Hello!\"): ", hashCode('Hello!'));

        }; 
        
        // reader.onerror = function () {
        //   console.log(reader.error);
        // };
      });

      
    </script>
  </body>
</html>
